{"ast":null,"code":"import _classCallCheck from\"/home/soklin/Documents/Project/MIS/Dev-MIS/front-end/mis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import axios from\"axios\";import localStorageService from\"./localStorageService\";import*as firebase from'firebase';var JwtAuthService=function JwtAuthService(){var _this=this;_classCallCheck(this,JwtAuthService);this.user={userId:\"1\",role:'ADMIN',displayName:\"Jason Alexander\",email:\"jasonalexander@gmail.com\",photoURL:\"/assets/images/face-6.jpg\",age:25,token:\"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"};this.loginWithEmailAndPassword=function(email,password){return new Promise(function(resolve,reject){setTimeout(function(){resolve(_this.user);},1000);}).then(function(data){// Login successful\n// Save token\n_this.setSession(data.token);// Set user\n_this.setUser(data);return data;});};this.loginWithToken=function(){return new Promise(function(resolve,reject){setTimeout(function(){resolve(_this.user);},100);}).then(function(data){// Token is valid\n_this.setSession(data.token);_this.setUser(data);return data;});};this.logout=function(){_this.setSession(null);_this.removeUser();};this.setSession=function(token){if(token){localStorage.setItem(\"jwt_token\",token);axios.defaults.headers.common[\"Authorization\"]=\"Bearer \"+token;}else{localStorage.removeItem(\"jwt_token\");delete axios.defaults.headers.common[\"Authorization\"];}};this.setUser=function(user){localStorageService.setItem(\"auth_user\",user);};this.removeUser=function(){localStorage.removeItem(\"auth_user\");};};export default new JwtAuthService();","map":null,"metadata":{},"sourceType":"module"}