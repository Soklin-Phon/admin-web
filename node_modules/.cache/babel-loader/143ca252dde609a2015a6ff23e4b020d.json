{"ast":null,"code":"import _slicedToArray from\"/home/soklin/Documents/Project/MIS/Dev-MIS/front-end/mis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Icon,Badge,Card,Button,IconButton,Drawer}from\"@material-ui/core\";import{Link}from\"react-router-dom\";import{withStyles,ThemeProvider}from\"@material-ui/core/styles\";import{getTimeDifference}from\"utils.js\";import PropTypes from\"prop-types\";import{connect}from\"react-redux\";import{getNotification,deleteAllNotification,deleteNotification}from\"../../redux/actions/NotificationActions\";var NotificationBar=function NotificationBar(props){var container=props.container,theme=props.theme,settings=props.settings,_props$notification=props.notification,notifcationList=_props$notification===void 0?[]:_props$notification,getNotification=props.getNotification,deleteAllNotification=props.deleteAllNotification,deleteNotification=props.deleteNotification;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),panelOpen=_React$useState2[0],setPanelOpen=_React$useState2[1];function handleDrawerToggle(){if(!panelOpen){getNotification();}setPanelOpen(!panelOpen);}var parentThemePalette=theme.palette;return React.createElement(ThemeProvider,{theme:settings.themes[settings.activeTheme]},React.createElement(IconButton,{onClick:handleDrawerToggle,style:{color:parentThemePalette.type===\"light\"?parentThemePalette.text.secondary:parentThemePalette.text.primary}},React.createElement(Badge,{color:\"secondary\",badgeContent:0},React.createElement(Icon,null,\"notifications\"))),React.createElement(Drawer,{width:\"100px\",container:container,variant:\"temporary\",anchor:\"right\",open:panelOpen,onClose:handleDrawerToggle,ModalProps:{keepMounted:true}},React.createElement(\"div\",{className:\"notification\"},React.createElement(\"div\",{className:\"notification__topbar flex items-center p-4 mb-4\"},React.createElement(Icon,{color:\"primary\"},\"notifications\"),React.createElement(\"h5\",{className:\"ml-2 my-0 font-medium\"},\"Notifications\")),notifcationList.map(function(notification){return React.createElement(\"div\",{key:notification.id,className:\"notification__card position-relative\"},React.createElement(IconButton,{size:\"small\",className:\"delete-button bg-light-gray mr-6\",onClick:function onClick(){return deleteNotification(notification.id);}},React.createElement(Icon,{className:\"text-muted\",fontSize:\"small\"},\"clear\")),React.createElement(Link,{to:\"/\".concat(notification.path),onClick:handleDrawerToggle},React.createElement(Card,{className:\"mx-4 mb-6\",elevation:3},React.createElement(\"div\",{className:\"card__topbar flex items-center justify-between p-2 bg-light-gray\"},React.createElement(\"div\",{className:\"flex items-center\"},React.createElement(\"div\",{className:\"card__topbar__button\"},React.createElement(Icon,{className:\"card__topbar__icon\",fontSize:\"small\",color:notification.icon.color},notification.icon.name)),React.createElement(\"span\",{className:\"ml-4 font-medium text-muted\"},notification.heading)),React.createElement(\"small\",{className:\"card__topbar__time text-muted\"},getTimeDifference(new Date(notification.timestamp)),\" ago\")),React.createElement(\"div\",{className:\"px-4 pt-2 pb-4\"},React.createElement(\"p\",{className:\"m-0\"},notification.title),React.createElement(\"small\",{className:\"text-muted\"},notification.subtitle)))));}),React.createElement(\"div\",{className:\"text-center\"},React.createElement(Button,{onClick:deleteAllNotification},\"Clear Notifications\")))));};var mapStateToProps=function mapStateToProps(state){return{getNotification:PropTypes.func.isRequired,deleteNotification:PropTypes.func.isRequired,deleteAllNotification:PropTypes.func.isRequired,notification:state.notification,settings:state.layout.settings};};export default withStyles({},{withTheme:true})(connect(mapStateToProps,{getNotification:getNotification,deleteNotification:deleteNotification,deleteAllNotification:deleteAllNotification})(NotificationBar));","map":null,"metadata":{},"sourceType":"module"}